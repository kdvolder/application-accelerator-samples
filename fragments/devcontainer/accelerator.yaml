accelerator:
  displayName: Dev Container
  description: Adds a `.devcontainer.json` file
  options:
  - name: includeDevContainer
    inputType: checkbox
    dataType: boolean
    label: Include .devcontainer.json
    defaultValue: false
engine:
  condition: "#includeDevContainer"
  let:
    - name: devContainerJavaVersion
      value: "#javaVersion == '1.8' ? '8' : #javaVersion"
  in:
    merge:
    - exclude: ["**/.devcontainer.json"]
    - include: ["**/.devcontainer.json"]
      merge:
      - type: ReplaceText
        condition: "#javaVersion == '1.8'"
        substitutions:
        - text: '17'
          with: '#devContainerJavaVersion'
